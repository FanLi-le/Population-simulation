**种群进化模拟系统简介**

本系统是一个基于遗传算法与生态交互的动态种群演化模拟程序，通过构建捕食者-被捕食者-植物-障碍物的复合生态系统，模拟生物种群在资源竞争、生存压力及环境约束下的进化过程。系统采用Python语言开发，结合Pygame实现可视化交互界面，支持实时观测种群动态演化。

---

### **核心功能与特性**
1. **多物种生态模型**
   - **捕食者（Predator）**：具备速度、感知、攻击性等遗传特征，通过捕猎获取能量，繁殖后代继承基因变异。
   - **被捕食者（Prey）**：具有逃避捕食者的趋避行为，可觅食植物恢复能量，能量积累触发繁殖。
   - **植物（Plant）**：通过光合作用生长，能量饱和时分裂繁殖，死亡后释放能量供其他物种利用。
   - **障碍物（Rock）**：动态生成的岩石障碍，影响生物移动路径与碰撞行为。

2. **遗传与进化机制**
   - **基因参数**：包含最大速度、感知范围、攻击性、繁殖阈值等可遗传特征，支持变异（5%概率随机调整）。
   - **适应性选择**：个体能量水平决定繁殖机会，高能量个体优先繁衍，推动优势基因传播。
   - **性状表达**：基因影响运动策略（如捕食者追击路径、被捕食者避险逻辑）、能量代谢效率等。

3. **环境交互系统**
   - **动态边界处理**：个体触碰边界时反弹，避免穿模。
   - **物理碰撞检测**：支持个体间、个体与障碍物的弹性碰撞计算，模拟真实运动轨迹。
   - **资源竞争**：植物分布与障碍物布局影响物种生存空间，形成生态位分化。

4. **可视化与数据分析**
   - **实时渲染**：通过Pygame绘制动态场景，彩色标识不同物种（红/蓝/绿分别代表捕食者、被捕食者、植物）。
   - **种群统计**：实时显示捕食者、被捕食者、植物的数量变化曲线，直观呈现生态平衡过程。
   - **进化可视化**：个体基因参数随代际演变的趋势可追踪，支持行为策略的演化分析。

---

### **技术实现**
- **面向对象设计**：采用分层架构，`Individual`基类定义通用属性与行为，子类扩展特化逻辑。
- **遗传算法框架**：基因变异机制驱动种群适应性进化，能量驱动的自然选择筛选优势个体。
- **物理引擎集成**：基于极坐标系的速度向量控制，结合摩擦力与碰撞反弹模型，实现平滑运动轨迹。
- **模块化扩展**：环境类（`Environment`）封装生态规则，支持自定义地形、物种行为参数调整。

---

### **应用场景**
- **生态学研究**：模拟捕食者-猎物动态平衡、资源限制下的种群崩溃与复苏。
- **人工智能实验**：测试遗传算法在复杂环境中的收敛性与鲁棒性。
- **教育演示工具**：直观展示自然选择、适者生存等进化论核心概念。

---

### **运行示例**
```bash
# 初始化环境（默认参数）
python main.py

# 观察种群波动：
# 初始阶段：捕食者数量激增→过度捕猎导致猎物减少→捕食者因饥饿灭绝→猎物恢复→新周期开始
```

该系统为生态模拟与进化算法研究提供了一个可扩展的实验平台，通过调整基因参数与环境配置，可深入探索不同生态策略的演化路径。
